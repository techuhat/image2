<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Cache Control for Development -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <title>ImagePDF Toolkit - Professional Image & PDF Tools</title>
    <meta name="description" content="Professional multi-tool Image and PDF Toolkit with advanced client-side processing. Convert, compress, resize images and create PDFs - all in your browser with complete privacy.">
    <meta name="keywords" content="image converter, pdf tools, image compression, resize images, format converter, batch processing">
    <meta name="author" content="ImagePDF Toolkit">
    
    <!-- Open Graph Meta Tags for Social Media -->
    <meta property="og:title" content="ImagePDF Toolkit - Professional Image & PDF Tools">
    <meta property="og:description" content="Convert, compress, resize images and create PDFs entirely in your browser. 100% private, no uploads, lightning fast processing with 6+ professional tools.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://techuhat.github.io/toolkit/">
    <meta property="og:site_name" content="ImagePDF Toolkit">
    <meta property="og:locale" content="en_US">
    
    <!-- Open Graph Image (1200x630 recommended) -->
    <meta property="og:image" content="https://techuhat.github.io/toolkit/images/og.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="ImagePDF Toolkit - Professional Image & PDF Processing Tools">
    <meta property="og:image:type" content="image/png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ImagePDF Toolkit - Professional Image & PDF Tools">
    <meta name="twitter:description" content="Convert, compress, resize images and create PDFs entirely in your browser. 100% private, no uploads, lightning fast processing with 6+ professional tools.">
    <meta name="twitter:image" content="https://techuhat.github.io/toolkit/images/og.png">
    <meta name="twitter:image:alt" content="ImagePDF Toolkit - Professional Image & PDF Processing Tools">
    <meta name="twitter:site" content="@techuhat">
    <meta name="twitter:creator" content="@techuhat">
    
    <!-- WhatsApp Meta Tags -->
    <meta property="og:image:secure_url" content="https://techuhat.github.io/toolkit/images/og.png">
    
    <!-- LinkedIn Meta Tags -->
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <!-- Facebook Meta Tags -->
    <meta property="fb:app_id" content="">
    <meta property="fb:pages" content="">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow">
    <meta name="theme-color" content="#4F46E5">
    <meta name="msapplication-TileColor" content="#4F46E5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ImagePDF Toolkit">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="ImagePDF Toolkit">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "ImagePDF Toolkit",
        "description": "Professional multi-tool Image and PDF Toolkit with advanced client-side processing. Convert, compress, resize images and create PDFs - all in your browser with complete privacy.",
        "url": "https://techuhat.github.io/toolkit/",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Any",
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "softwareVersion": "2.0",
        "author": {
            "@type": "Organization",
            "name": "TechUhat",
            "url": "https://github.com/techuhat"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Image to PDF Conversion",
            "PDF to Images Conversion", 
            "Image Compression",
            "Image Resizing",
            "Format Conversion",
            "Batch Processing"
        ]
    }
    </script>
    
    <!-- Performance and Accessibility -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="dns-prefetch" href="//github.com">
    
    <!-- Critical Resource Preloads -->
    <link rel="preload" href="styles.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="css/premium-buttons.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="script.js" as="script">
    
    <!-- Performance Optimization Meta Tags -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://techuhat.github.io/toolkit/">
    
    <!-- Alternative Languages (if you add multilingual support) -->
    <link rel="alternate" hreflang="en" href="https://techuhat.github.io/toolkit/">
    <link rel="alternate" hreflang="x-default" href="https://techuhat.github.io/toolkit/">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Favicon with better formats -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234F46E5'><path d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-4-4h-4v-2h4v2zm0-4H9v-2h6v2z'/></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234F46E5'><path d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-4-4h-4v-2h4v2zm0-4H9v-2h6v2z'/></svg>">
    
    <!-- PERFORMANCE: Use only minified, purged Tailwind CSS for used classes -->
    <link rel="stylesheet" href="styles.min.css?v=2.3.1">
    <link rel="stylesheet" href="tailwind-complete.css?v=2.3.1">
    <link rel="stylesheet" href="css/all.min.css?v=2.3.1">
    <link rel="stylesheet" href="css/premium-buttons.css?v=2.3.1">
    
    <!-- Theme initialization script - runs immediately -->
    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        })();
    </script>
    
    <!-- External Libraries for PDF and Image Processing -->

    
 <style>
        .glass-effect {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(16px) saturate(1.2);
            border: 1px solid rgba(226, 232, 240, 0.4);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
        }
        
        .dark .glass-effect {
            background: rgba(26, 32, 44, 0.85);
            backdrop-filter: blur(16px) saturate(1.2);
            border: 1px solid rgba(45, 55, 72, 0.6);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .dark .gradient-bg {
            background: linear-gradient(135deg, #4c1d95 0%, #1e1b4b 100%);
        }
        
        .tool-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
            position: relative;
            overflow: hidden;
        }
        
        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }
        
        .tool-card:hover::before {
            left: 100%;
        }
        
        .tool-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.05);
        }
        
        .dark .tool-card:hover {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.1);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            animation: progress-flow 2s ease-in-out infinite;
        }
        
        @keyframes progress-flow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .file-drop-zone {
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
        }
        
        .file-drop-zone.drag-over {
            border-color: #4f46e5;
            background-color: rgba(79, 70, 229, 0.05);
        }
        
        .dark .file-drop-zone {
            border-color: #4b5563;
        }
        
        .dark .file-drop-zone.drag-over {
            border-color: #6366f1;
            background-color: rgba(99, 102, 241, 0.1);
        }
        


        
        /* Tool toast container specific styles */
        #tool-toast-container {
            max-width: 350px;
            pointer-events: none;
            position: fixed;
            top: 100px; /* Increased from 20px to avoid header overlap */
            left: 50%;
            transform: translateX(-50%);
            z-index: 10000; /* Increased z-index */
            width: calc(100% - 40px);
        }
        
        /* Desktop tool toast positioning */
        @media (min-width: 641px) {
            #tool-toast-container {
                top: 20px !important;
                right: 20px !important;
                left: auto !important;
                transform: none !important;
                width: 350px !important;
                max-width: 350px !important;
            }
        }
        
        /* Mobile tool toast container adjustments */
        @media (max-width: 640px) {
            #tool-toast-container {
                left: 10px !important;
                right: 10px !important;
                transform: none !important;
                width: calc(100vw - 20px) !important;
                max-width: calc(100vw - 20px) !important;
            }
        }
        
        #tool-toast-container .toast {
            pointer-events: auto;
            margin-left: auto;
            margin-right: 0;
            background-color: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .dark #tool-toast-container .toast {
            background-color: rgba(31, 41, 55, 0.95);
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
        
        .spinner {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Professional loading animation */
        .loading-dots {
            display: inline-block;
        }
        
        .loading-dots::after {
            content: '';
            animation: dots 1.5s steps(5, end) infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }
        
        /* Professional button hover effects */
        .btn-professional {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .btn-professional::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .btn-professional:hover::before {
            left: 100%;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .scale-in {
            animation: scaleIn 0.3s ease-out;
        }
        
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Enhanced Light Mode - Professional & Eye-Friendly */
        body {
            background: linear-gradient(135deg, #fafbfc 0%, #f7fafc 100%);
            color: #1a202c;
            font-weight: 400;
        }
        
        .bg-white {
            background-color: #ffffff;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        .bg-gray-50 {
            background-color: #f7fafc;
        }
        
        .bg-gray-100 {
            background-color: #edf2f7;
        }
        
        .text-gray-900 {
            color: #1a202c;
            font-weight: 600;
        }
        
        .text-gray-600 {
            color: #4a5568;
            font-weight: 500;
        }
        
        .text-gray-500 {
            color: #718096;
        }
        
        .border-gray-200 {
            border-color: #e2e8f0;
        }
        
        .border {
            border-color: #cbd5e1;
        }

        /* Enhanced Dark Mode - True Dark with Perfect Contrast */
        .dark {
            color-scheme: dark;
        }
        
        .dark body {
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%) !important;
            color: #ffffff !important;
            font-weight: 400;
        }
        
        .dark .bg-white {
            background-color: #1a202c !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
            border: 1px solid #2d3748 !important;
        }
        
        .dark .bg-gray-50 {
            background-color: #0f1419 !important;
        }
        
        .dark .bg-gray-100 {
            background-color: #2d3748 !important;
        }
        
        .dark .text-gray-900 {
            color: #ffffff !important;
            font-weight: 600;
        }
        
        .dark .text-gray-600 {
            color: #e2e8f0 !important;
            font-weight: 500;
        }
        
        .dark .text-gray-500 {
            color: #a0aec0 !important;
        }
        
        .dark .border-gray-200 {
            border-color: #2d3748 !important;
        }
        
        .dark .border {
            border-color: #4a5568 !important;
        }

        /* Primary Colors - Consistent Across Modes */
        .text-blue-600 {
            color: #3182ce;
        }
        
        .dark .text-blue-600 {
            color: #63b3ed !important;
        }
        
        .text-blue-400 {
            color: #63b3ed;
        }
        
        .dark .text-blue-400 {
            color: #90cdf4 !important;
        }
        
        .text-purple-600 {
            color: #805ad5;
        }
        
        .dark .text-purple-600 {
            color: #b794f6 !important;
        }
        
        .hover\:text-blue-600:hover {
            color: #3182ce;
        }
        
        .dark .hover\:text-blue-400:hover {
            color: #90cdf4 !important;
        }
        
        .theme-transition {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        
        /* Enhanced Feature Cards with New Color Scheme */
        .feature-card {
            border: 1px solid #e2e8f0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(135deg, #ffffff 0%, #fafbfc 100%);
            backdrop-filter: blur(8px);
        }
        
        .feature-card:hover {
            box-shadow: 0 25px 35px -10px rgba(59, 130, 246, 0.15), 0 15px 15px -5px rgba(0, 0, 0, 0.08);
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-color: #3182ce;
            transform: translateY(-5px);
        }
        
        .dark .feature-card {
            border: 1px solid #2d3748;
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
            backdrop-filter: blur(12px);
        }
        
        .dark .feature-card:hover {
            box-shadow: 0 25px 35px -10px rgba(99, 179, 237, 0.25), 0 15px 15px -5px rgba(0, 0, 0, 0.2);
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            border-color: #63b3ed;
            transform: translateY(-5px);
        }
        
        /* Ensure all buttons and clickable elements have pointer cursor */
        button, 
        .btn-professional,
        [onclick] {
            cursor: pointer !important;
        }
        
        /* Mobile Navigation Menu Styles */
        .mobile-menu-btn {
            display: none;
            flex-direction: column;
            justify-content: space-around;
            width: 24px;
            height: 24px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .mobile-menu-btn span {
            display: block;
            height: 2px;
            width: 100%;
            background-color: currentColor;
            border-radius: 1px;
            transition: all 0.3s ease;
        }
        
        .mobile-menu-btn.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .mobile-menu-btn.active span:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-menu-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
        
        .mobile-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(248, 250, 252, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(226, 232, 240, 0.3);
            border-radius: 8px;
            margin: 8px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 50;
        }
        
        .dark .mobile-menu {
            background: rgba(31, 41, 55, 0.95);
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
        
        .mobile-menu.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .mobile-menu-item {
            display: block;
            padding: 12px 16px;
            color: inherit;
            text-decoration: none;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            transition: background-color 0.2s ease;
        }
        
        .dark .mobile-menu-item {
            border-bottom: 1px solid rgba(75, 85, 99, 0.3);
        }
        
        .mobile-menu-item:last-child {
            border-bottom: none;
        }
        
        .mobile-menu-item:hover {
            background-color: rgba(59, 130, 246, 0.1);
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: flex;
            }
            
            .desktop-nav {
                display: none;
            }
        }
        
        /* Performance Optimizations */
        .optimized-transition {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                       opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform, opacity;
        }
        
        .gpu-accelerated {
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            -webkit-perspective: 1000;
            perspective: 1000;
        }
        
        /* Reduce motion for accessibility */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
        
        /* Optimize for performance */
        .tool-card,
        .feature-card,
        .btn-professional {
            contain: layout style paint;
        }
        
        /* Day/Night Toggle Switch Styles */
        .toggleWrapper {
            position: relative;
            overflow: hidden;
            padding: 0;
            display: inline-block;
        }

        .toggleWrapper input {
            position: absolute;
            left: -9999px;
            opacity: 0;
        }

        /* Default state - Day mode */
        .toggle {
            cursor: pointer;
            display: inline-block;
            position: relative;
            width: 45px;
            height: 25px;
            background-color: #83D8FF;
            border-radius: 84px;
            transition: background-color 200ms cubic-bezier(0.445, 0.05, 0.55, 0.95);
        }

        .toggle__handler {
            display: inline-block;
            position: relative;
            z-index: 1;
            top: 2px;
            left: 2px;
            width: 21px;
            height: 21px;
            background-color: #FFCF96;
            border-radius: 50px;
            box-shadow: 0 2px 6px rgba(0,0,0,.3);
            transition: all 400ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
            transform: rotate(-45deg);
        }

        .crater {
            position: absolute;
            background-color: #E8CDA5;
            opacity: 0;
            transition: opacity 200ms ease-in-out;
            border-radius: 100%;
        }

        .crater--1 {
            top: 9px;
            left: 5px;
            width: 2px;
            height: 2px;
        }

        .crater--2 {
            top: 14px;
            left: 11px;
            width: 3px;
            height: 3px;
        }

        .crater--3 {
            top: 5px;
            left: 12px;
            width: 4px;
            height: 4px;
        }

        .star {
            position: absolute;
            background-color: #ffffff;
            transition: all 300ms cubic-bezier(0.445, 0.05, 0.55, 0.95);
            border-radius: 50%;
        }

        .star--1 {
            top: 5px;
            left: 17px;
            z-index: 0;
            width: 15px;
            height: 2px;
        }

        .star--2 {
            top: 9px;
            left: 14px;
            z-index: 1;
            width: 15px;
            height: 2px;
        }

        .star--3 {
            top: 14px;
            left: 20px;
            z-index: 0;
            width: 15px;
            height: 2px;
        }

        .star--4,
        .star--5,
        .star--6 {
            opacity: 0;
            transition: all 300ms 0 cubic-bezier(0.445, 0.05, 0.55, 0.95);
        }

        .star--4 {
            top: 8px;
            left: 6px;
            z-index: 0;
            width: 1px;
            height: 1px;
            transform: translate3d(3px,0,0);
        }

        .star--5 {
            top: 16px;
            left: 9px;
            z-index: 0;
            width: 1.5px;
            height: 1.5px;
            transform: translate3d(3px,0,0);
        }

        .star--6 {
            top: 18px;
            left: 14px;
            z-index: 0;
            width: 1px;
            height: 1px;
            transform: translate3d(3px,0,0);
        }

        /* Night mode - Checked state styles */
        input:checked + .toggle {
            background-color: #749DD6;
        }

        input:checked + .toggle .toggle__handler {
            background-color: #FFE5B5;
            transform: translate3d(20px, 0, 0) rotate(0deg);
        }

        input:checked + .toggle .crater {
            opacity: 1;
        }

        input:checked + .toggle .star--1 {
            width: 1px;
            height: 1px;
        }

        input:checked + .toggle .star--2 {
            width: 2px;
            height: 2px;
            transform: translate3d(-5px, 0, 0);
        }

        input:checked + .toggle .star--3 {
            width: 1px;
            height: 1px;
            transform: translate3d(-7px, 0, 0);
        }

        input:checked + .toggle .star--4,
        input:checked + .toggle .star--5,
        input:checked + .toggle .star--6 {
            opacity: 1;
            transform: translate3d(0,0,0);
        }

        input:checked + .toggle .star--4 {
            transition: all 300ms 200ms cubic-bezier(0.445, 0.05, 0.55, 0.95);
        }

        input:checked + .toggle .star--5 {
            transition: all 300ms 300ms cubic-bezier(0.445, 0.05, 0.55, 0.95);
        }

        input:checked + .toggle .star--6 {
            transition: all 300ms 400ms cubic-bezier(0.445, 0.05, 0.55, 0.95);
        }
        
        /* Image Slider Styles */
        .image-slider {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
        }
        
        .image-slides {
            display: flex;
            transition: transform 0.3s ease-in-out;
        }
        
        .image-slide {
            min-width: 100%;
            position: relative;
        }
        
        .image-slide img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 8px;
        }
        
        .slider-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .slider-nav:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: translateY(-50%) scale(1.1);
        }
        
        .slider-nav.prev {
            left: 10px;
        }
        
        .slider-nav.next {
            right: 10px;
        }
        
        .slider-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 12px;
        }
        
        .slider-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #cbd5e1;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .slider-dot.active {
            background: #3b82f6;
            transform: scale(1.2);
        }
        
        .dark .slider-dot {
            background: #4b5563;
        }
        
        .dark .slider-dot.active {
            background: #60a5fa;
        }
        
        /* File input styles */
        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
        }
        
        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
            opacity: 0;
            pointer-events: none;
        }
        
        /* Responsive image preview grid */
        .image-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 16px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 8px; /* Add padding for scrollbar */
        }

        /* Scrollbar styling for the preview grid */
        .image-preview-grid::-webkit-scrollbar {
            width: 8px;
        }

        .image-preview-grid::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 4px;
        }

        .image-preview-grid::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        .dark .image-preview-grid::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        .dark .image-preview-grid::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Enhanced Drag and Drop Styles */
        .file-drop-zone {
            border: 2px dashed #cbd5e1;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .file-drop-zone::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
            transition: left 0.5s ease;
        }
        
        .file-drop-zone:hover {
            border-color: #3b82f6;
            background-color: rgba(59, 130, 246, 0.05);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
        }
        
        .file-drop-zone:hover::before {
            left: 100%;
        }
        
        .file-drop-zone.drag-over {
            border-color: #3b82f6;
            background-color: rgba(59, 130, 246, 0.1);
            transform: scale(1.02);
            box-shadow: 0 12px 30px rgba(59, 130, 246, 0.2);
        }
        
        .file-drop-zone.drag-over svg {
            animation: bounce 0.6s infinite;
            color: #3b82f6 !important;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        .dark .file-drop-zone {
            border-color: #4b5563;
        }
        
        .dark .file-drop-zone:hover {
            border-color: #60a5fa;
            background-color: rgba(96, 165, 250, 0.05);
        }
        
        .dark .file-drop-zone.drag-over {
            border-color: #60a5fa;
            background-color: rgba(96, 165, 250, 0.1);
        }
        
        /* Global drop overlay styles */
        #global-drop-overlay {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        #global-drop-overlay .animate-bounce {
            animation: bounce 1s infinite;
        }
        
        /* File list item styles */
        .file-item {
            transition: all 0.3s ease;
        }
        
        .file-item:hover {
            transform: translateX(4px);
            background-color: rgba(59, 130, 246, 0.05);
        }
        
        .dark .file-item:hover {
            background-color: rgba(96, 165, 250, 0.05);
        }
        
        /* Toast progress animation */
        @keyframes toast-progress {
            from {
                width: 100%;
            }
            to {
                width: 0%;
            }
        }
        
        /* Enhanced button styles */
        .btn-enhanced {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .btn-enhanced::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .btn-enhanced:hover::before {
            left: 100%;
        }
        
        .btn-enhanced:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        /* Modern Toast Animations */
        @keyframes slideIn {
            from {
                transform: translateX(120%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(120%);
                opacity: 0;
            }
        }

        @keyframes progressBar {
            from {
                width: 100%;
            }
            to {
                width: 0%;
            }
        }

        /* Toast Container */
        .toast-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 12px;
            max-width: 400px;
            pointer-events: none;
        }

        /* Modern Glassmorphism Toast */
        .toast {
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 16px 20px;
            min-width: 300px;
            max-width: 400px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 8px 16px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform: translateX(120%);
            opacity: 0;
            animation: slideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            position: relative;
            overflow: hidden;
            pointer-events: auto;
            user-select: none;
            -webkit-user-select: none;
            color: white;
            font-weight: 500;
            line-height: 1.4;
        }

        .toast.hiding {
            animation: slideOut 0.15s ease-out forwards;
        }

        .toast-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            position: relative;
            z-index: 2;
        }

        .toast-message {
            flex: 1;
            font-size: 0.95rem;
            margin-right: 12px;
        }

        .toast-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            font-size: 1.25rem;
            padding: 4px;
            border-radius: 50%;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .toast-close:hover {
            color: white;
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, #4ade80, #22c55e);
            border-radius: 0 0 16px 16px;
            animation: progressBar 4s linear forwards;
            z-index: 1;
            width: 100%;
        }

        .toast.success .progress-bar {
            background: linear-gradient(90deg, #4ade80, #22c55e);
        }

        .toast.error .progress-bar {
            background: linear-gradient(90deg, #ef4444, #dc2626);
        }

        .toast.warning .progress-bar {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }

        .toast.info .progress-bar {
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .toast-container {
                right: 16px;
                bottom: 16px;
                left: 16px;
                max-width: none;
            }

            .toast {
                min-width: unset;
                max-width: unset;
                width: 100%;
            }
        }

        .toast * {
            pointer-events: auto;
        }

        .toast .toast-close {
            pointer-events: auto;
        }

        .toast.error .progress-bar {
            background: linear-gradient(90deg, #ef4444, #dc2626);
        }

        .toast.warning .progress-bar {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }

        @keyframes slideIn {
            from {
                transform: translateX(120%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(120%);
                opacity: 0;
            }
        }

        /* Mobile responsiveness for toast */
        @media (max-width: 768px) {
            .toast-container {
                left: 20px;
                right: 20px;
                bottom: 20px;
            }

            .toast {
                min-width: unset;
                max-width: unset;
                width: 100%;
            }
            
            .toast-inner {
                cursor: grab;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }
            
            .toast-inner:active {
                cursor: grabbing;
            }
        }

        @media (max-width: 480px) {
            .toast-container {
                left: 16px;
                right: 16px;
                bottom: 16px;
            }

            .toast {
                padding: 14px 16px;
            }
            
            .toast-inner {
                min-width: 280px;
                font-size: 0.9rem;
            }

            .toast-message {
                font-size: 0.9rem;
            }
        }
        
        .toast.show {
            animation: slideInRight 0.3s ease-out;
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Progress bar enhanced styles */
        #progress-bar {
            background: linear-gradient(90deg, #3b82f6, #1d4ed8, #3b82f6);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        #progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: progressShine 1.5s infinite;
        }
        
        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }
        
        @keyframes progressShine {
            0% {
                left: -100%;
            }
            100% {
                left: 100%;
            }
        }
        
        /* Image preview item enhanced styles */
        .image-preview-item {
            position: relative;
            width: 150px;
            height: 150px;
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #ffffff !important;
            border: 2px solid #e5e7eb !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .dark .image-preview-item {
            background: #ffffff !important;
            border-color: #d1d5db !important;
        }

        .image-preview-item img {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: cover;
            border-radius: 6px;
        }

        .image-preview-item .file-name {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px;
            font-size: 13px;
            line-height: 1.4;
            word-break: break-word;
            text-align: center;
            max-height: 50%;
            overflow-y: auto;
            backdrop-filter: blur(4px);
        }
        
        .image-preview-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }
        
        .dark .image-preview-item:hover {
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            #tool-toast-container {
                max-width: calc(100vw - 40px);
                top: 120px; /* Increased from 80px to ensure visibility */
                left: 50%;
                transform: translateX(-50%);
                z-index: 10000; /* Increased z-index to ensure it's above header */
                padding: 0 10px;
                position: fixed;
                pointer-events: none;
                width: 100%;
            }

            .toast {
                max-width: 100%;
                margin: 0 auto;
                font-size: 14px;
                padding: 12px 16px;
                border-radius: 8px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
                width: 100%;
                z-index: 10001; /* Ensure toast is above container */
            }

            .image-preview-grid {
                display: flex;
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }

            .image-preview-item {
                width: 100%;
                max-width: 300px;
                height: auto;
                aspect-ratio: 1;
                margin: 0 auto;
            }
            
            .file-item {
                padding: 10px;
                flex-direction: column;
                align-items: flex-start;
                word-wrap: break-word;
                border-radius: 8px;
                margin-bottom: 8px;
                background-color: rgba(0, 0, 0, 0.03);
            }

            .file-item .font-medium {
                white-space: normal;
                word-break: break-word;
                font-size: 14px;
                max-width: 100%;
                display: block;
                line-height: 1.4;
                padding: 4px 0;
                overflow-wrap: break-word;
                hyphens: auto;
            }

            .file-item .ml-4 {
                margin-left: 0;
                margin-top: 8px;
            }
        }
        
        .btn-enhanced::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .btn-enhanced:hover::before {
            left: 100%;
        }
        
        /* Additional responsive enhancements */
        
        /* Desktop toast positioning */
        @media (min-width: 641px) {
            #toast-container {
                top: 20px !important;
                right: 20px !important;
                left: auto !important;
                width: 400px !important;
                max-width: 400px !important;
                z-index: 100000 !important;
                transform: none !important;
            }
            
            #toast-container .toast {
                max-width: 100% !important;
                width: 100% !important;
                margin: 0 !important;
                font-size: 14px !important;
                padding: 16px 20px !important;
                border-radius: 12px !important;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
                transform: translateX(0) !important;
                position: relative !important;
                left: 0 !important;
                right: 0 !important;
                overflow: hidden !important;
            }
        }
        
        /* Mobile-specific toast adjustments */
        @media (max-width: 640px) {
            #toast-container {
                top: 100px !important; /* Increased from 80px to ensure visibility */
                left: 16px !important;
                right: 16px !important;
                z-index: 100000 !important;
                width: calc(100vw - 32px) !important;
                max-width: calc(100vw - 32px) !important;
                transform: none !important;
            }
            
            #toast-container .toast {
                max-width: 100% !important;
                width: 100% !important;
                margin: 0 !important;
                font-size: 14px !important;
                padding: 12px 16px !important;
                border-radius: 8px !important;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25) !important;
                transform: translateX(0) !important;
                left: 0 !important;
                right: 0 !important;
                position: relative !important;
                overflow: hidden !important;
            }
            
            #tool-toast-container {
                top: 120px !important; /* Even higher for tool modal toasts */
                z-index: 100001 !important;
                width: calc(100vw - 32px) !important;
                max-width: calc(100vw - 32px) !important;
                left: 16px !important;
                right: 16px !important;
                transform: none !important;
            }
            
            #tool-toast-container .toast {
                width: 100% !important;
                max-width: 100% !important;
                margin: 0 !important;
                transform: translateX(0) !important;
                position: relative !important;
                overflow: hidden !important;
            }
        }
        
        /* Tablet specific adjustments */
        @media (min-width: 641px) and (max-width: 1024px) {
            #tool-toast-container {
                max-width: calc(100vw - 60px);
                top: 20px;
                right: 20px;
                z-index: 9999;
                position: fixed;
                pointer-events: none;
            }
            
            .image-preview-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }
            
            .file-item .font-medium {
                white-space: normal;
                word-break: break-word;
                max-width: 100%;
                display: block;
            }
        }
        
        /* Responsive enhancements */
        @media (max-width: 768px) {
            .file-drop-zone {
                padding: 2rem 1rem;
            }
            
            #global-drop-overlay .max-w-md {
                max-width: 90vw;
            }
        }
        
        .image-preview-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .image-preview-item:hover {
            transform: scale(1.05);
        }
        
        .image-preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-preview-item .remove-btn {
            position: absolute;
            top: 4px;
            right: 4px;
            background: rgba(239, 68, 68, 0.9);
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .image-preview-item .file-name {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 4px 8px;
            font-size: 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        /* Enhanced file name handling for mobile */
        @media (max-width: 768px) {
            .file-item .font-medium {
                word-break: break-all;
                hyphens: auto;
                line-height: 1.3;
                max-height: 3.9em; /* Allow up to 3 lines */
                overflow: hidden;
                display: -webkit-box;
                -webkit-line-clamp: 3;
                -webkit-box-orient: vertical;
            }
            
            .file-item {
                flex-direction: column;
                align-items: stretch;
            }
            
            .file-item > div:first-child {
                flex: 1;
                min-width: 0;
            }
            
            .file-item button {
                align-self: flex-end;
                margin-top: 8px;
            }
        }
        
        /* Android-specific toast fixes */
        @supports (-webkit-touch-callout: none) {
            /* iOS Safari */
            #toast-container, #tool-toast-container {
                top: 120px !important;
                z-index: 100000 !important;
            }
        }
        
        /* Android Chrome and other mobile browsers */
        @media screen and (max-width: 768px) and (orientation: portrait) {
            #toast-container {
                top: 120px !important;
                z-index: 100000 !important;
                position: fixed !important;
            }
            
            #tool-toast-container {
                top: 140px !important;
                z-index: 100001 !important;
                position: fixed !important;
            }
            
            .toast {
                z-index: 100002 !important;
                position: relative !important;
            }
        }
    </style>
    


</head>
<body class="theme-transition bg-slate-50 dark:bg-gray-900 text-slate-800 dark:text-gray-100 min-h-screen">
    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- Progress Bar -->
    <div id="progress-container" class="fixed top-0 left-0 w-full h-1 z-40 hidden">
        <div id="progress-bar" class="h-full progress-bar" style="width: 0%"></div>
    </div>
    
    <!-- Navigation -->
    <nav class="glass-effect sticky top-0 z-30 backdrop-blur-lg" role="navigation" aria-label="Main navigation">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg" aria-hidden="true">
                        <div class="relative">
                            <svg class="w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z M8.5 12.5l2.5 3 3.5-4.5 4.5 6H5l3.5-4.5z"/></svg>
                            <svg class="w-4 h-4 text-blue-200 absolute -top-1 -right-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z M8.5 12.5l2.5 3 3.5-4.5 4.5 6H5l3.5-4.5z"/></svg>
                        </div>
                    </div>
                    <div class="flex flex-col">
                        <h1 class="text-xl font-bold text-gray-900 dark:text-white">ImagePDF Toolkit</h1>
                        <span class="text-xs text-gray-500 dark:text-gray-400 font-medium">Professional Tools</span>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- Desktop Navigation -->
                    <div class="desktop-nav flex items-center space-x-4">
                        <button onclick="scrollToSection('tools')" class="hidden md:block text-sm hover:text-blue-600 dark:hover:text-blue-400 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded px-2 py-1 cursor-pointer" aria-label="Navigate to tools section">
                            Tools
                        </button>
                        <button onclick="scrollToSection('features')" class="hidden md:block text-sm hover:text-blue-600 dark:hover:text-blue-400 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded px-2 py-1 cursor-pointer" aria-label="Navigate to features section">
                            Features
                        </button>
                    </div>
                    
                    <!-- Mobile Menu Button -->
                    <div class="mobile-menu-btn md:hidden" onclick="toggleMobileMenu()" aria-label="Toggle mobile menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    
                    <!-- Theme Toggle -->
                    <div class="toggleWrapper">
                        <input type="checkbox" id="dn" aria-label="Toggle dark mode" />
                        <label for="dn" class="toggle" aria-label="Dark mode toggle">
                            <span class="toggle__handler" aria-hidden="true">
                                <span class="crater crater--1"></span>
                                <span class="crater crater--2"></span>
                                <span class="crater crater--3"></span>
                            </span>
                            <span class="star star--1" aria-hidden="true"></span>
                            <span class="star star--2" aria-hidden="true"></span>
                            <span class="star star--3" aria-hidden="true"></span>
                            <span class="star star--4" aria-hidden="true"></span>
                            <span class="star star--5" aria-hidden="true"></span>
                            <span class="star star--6" aria-hidden="true"></span>
                        </label>
                    </div>
                </div>
                
                <!-- Mobile Menu -->
                <div class="mobile-menu" id="mobile-menu">
                    <a href="#" class="mobile-menu-item" onclick="scrollToSection('tools'); closeMobileMenu();">
                        🛠️ Tools
                    </a>
                    <a href="#" class="mobile-menu-item" onclick="scrollToSection('features'); closeMobileMenu();">
                        ⭐ Features
                    </a>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main id="main-content">
        <!-- Hero Section -->
        <section class="gradient-bg py-20" aria-labelledby="hero-heading">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <div class="fade-in">
                    <h2 id="hero-heading" class="text-5xl md:text-6xl font-bold text-white mb-6">
                        Professional Image & PDF Tools
                    </h2>
                    <p class="text-xl md:text-2xl text-white opacity-90 mb-8 max-w-3xl mx-auto">
                        Convert, compress, resize, and manipulate images and PDFs entirely in your browser. 
                        No uploads, complete privacy, lightning fast.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="scrollToSection('tools')" class="btn-professional bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 px-8 py-4 rounded-xl font-semibold hover:bg-gray-100 dark:hover:bg-gray-700 transition-all transform hover:scale-105 shadow-lg flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-blue-600 cursor-pointer" aria-label="Navigate to tools section">
                            <svg class="w-5 h-5 mr-2 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-hidden="true"><path fill="currentColor" d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3-32 32-32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/></svg>
                            <span>Explore Tools</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Features Section -->
        <section id="features" class="py-20 bg-slate-50 dark:bg-gray-800" aria-labelledby="features-heading">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 id="features-heading" class="text-4xl font-bold mb-4 text-slate-900 dark:text-white">Why Choose Our Toolkit?</h2>
                    <p class="text-xl text-slate-700 dark:text-gray-300 max-w-3xl mx-auto">
                        Advanced client-side processing with enterprise-grade features
                    </p>
                </div>
                
                <!-- Professional Statistics -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-16" role="region" aria-label="Key statistics">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl font-bold text-blue-600 mb-2" aria-label="6 professional tools available">6+</div>
                        <div class="text-sm text-slate-700 dark:text-gray-400">Professional Tools</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl font-bold text-green-600 mb-2" aria-label="100 percent client-side processing">100%</div>
                        <div class="text-sm text-slate-700 dark:text-gray-400">Client-Side</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl font-bold text-purple-600 mb-2" aria-label="No usage limits">∞</div>
                        <div class="text-sm text-slate-700 dark:text-gray-400">No Limits</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl font-bold text-orange-600 mb-2" aria-label="Zero milliseconds upload time">0ms</div>
                        <div class="text-sm text-slate-700 dark:text-gray-400">Upload Time</div>
                    </div>
                </div>
            
            <div class="grid md:grid-cols-3 gap-8">
                <div class="feature-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl scale-in">
                    <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-6 h-6 text-blue-600 dark:text-blue-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 2.18l6 2.67v5.15c0 4.54-2.77 8.62-6 9.93-3.23-1.31-6-5.39-6-9.93V5.85l6-2.67z"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-center text-gray-900 dark:text-white">100% Private</h3>
                    <p class="text-gray-600 dark:text-gray-300 text-center">All processing happens in your browser. No uploads, no tracking.</p>
                </div>
                
                <div class="feature-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl scale-in" style="animation-delay: 0.1s;">
                    <div class="w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-6 h-6 text-green-600 dark:text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11 21h-1l1-7H7.5c-.88 0-.33-.75-.31-.78C8.48 10.94 10.42 7.54 13.01 3h1l-1 7h3.51c.4 0 .62.19.4.66C12.97 17.55 11 21 11 21z"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-center text-gray-900 dark:text-white">Lightning Fast</h3>
                    <p class="text-gray-600 dark:text-gray-300 text-center">Optimized algorithms for instant processing and conversion.</p>
                </div>
                
                <div class="feature-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl scale-in" style="animation-delay: 0.2s;">
                    <div class="w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-6 h-6 text-purple-600 dark:text-purple-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-center text-gray-900 dark:text-white">Batch Processing</h3>
                    <p class="text-gray-600 dark:text-gray-300 text-center">Handle multiple files simultaneously with smart optimization.</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Tools Section -->
    <section id="tools" class="py-20 bg-blue-50/30 dark:bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4 text-slate-900 dark:text-white">Professional Tools</h2>
                <p class="text-xl text-slate-700 dark:text-gray-300">
                    Choose from our comprehensive suite of image and PDF tools
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Image to PDF Tool -->
                <div class="tool-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl" onclick="window.location.href='tools/image-to-pdf.html'">
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mb-4 shadow-md">
                        <svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7 3C5.9 3 5 3.9 5 5v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V8.4c0-.5-.2-1-.5-1.4l-3.5-3.5C14.6 3.2 14.1 3 13.6 3H7zm0 2h6v4h4v10H7V5zm8 .8L17.2 8H15V5.8z"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">Image to PDF</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Convert single or multiple images to PDF with custom layouts</p>
                    <div class="flex items-center text-blue-600 dark:text-blue-400 font-medium group">
                        <span>Get Started</span>
                        <svg class="w-5 h-5 ml-2 transition-transform group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.2 12l-7.9 7.9 1.4 1.4 9.3-9.3-9.3-9.3-1.4 1.4z"/></svg>
                    </div>
                </div>
                
                <!-- PDF to Images Tool -->
                <div class="tool-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl" onclick="window.location.href='tools/pdf-to-images.html'">
                    <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center mb-4 shadow-md">
                        <svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5-7l-3 3.72L9 13l-3 4h12l-4-5z"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">PDF to Images</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Extract images from PDF files in various formats</p>
                    <div class="flex items-center text-green-600 dark:text-green-400 font-medium group">
                        <span>Get Started</span>
                        <svg class="w-5 h-5 ml-2 transition-transform group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.2 12l-7.9 7.9 1.4 1.4 9.3-9.3-9.3-9.3-1.4 1.4z"/></svg>
                    </div>
                </div>
                
                <!-- Image Compressor Tool -->
                <div class="tool-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl" onclick="window.location.href='tools/image-compressor.html'">
                    <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mb-4 shadow-md">
                        <svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 9h1v1h1v1H4v-2zm17 0h-1v1h-1v1h2V9zM4 15h1v-1h1v-1H4v2zm17 0h-1v-1h-1v-1h2v2zM8 4v1H7v1h2V4H8zm9 0v1h1v1h1V4h-2zM8 20v-1H7v-1h2v2H8zm9 0v-1h1v-1h1v2h-2z"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">Image Compressor</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Reduce file size while maintaining quality</p>
                    <div class="flex items-center text-purple-600 dark:text-purple-400 font-medium group">
                        <span>Get Started</span>
                        <svg class="w-5 h-5 ml-2 transition-transform group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                          <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
                        </svg>
                    </div>
                </div>
                
                <!-- Image Resizer Tool -->
                <div class="tool-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl" onclick="window.location.href='tools/image-resizer.html'">
                    <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center mb-4 shadow-md">
                        <svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 3h6v2H5v4H3V3m2 16h4v2H3v-6h2v4m16 0v-4h2v6h-6v-2h4M19 3v2h-4V3h6v6h-2V5"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">Image Resizer</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Resize images to custom dimensions</p>
                    <div class="flex items-center text-orange-600 dark:text-orange-400 font-medium group">
                        <span>Get Started</span>
                        <svg class="w-5 h-5 ml-2 transition-transform group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                          <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
                        </svg>
                    </div>
                </div>
                
                <!-- Format Converter Tool -->
                <div class="tool-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl" onclick="window.location.href='tools/format-converter.html'">
                    <div class="w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center mb-4 shadow-md">
                        <svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16 17l5-5-5-5v3H8v4h8v3zM8 7l-5 5 5 5v-3h8v-4H8V7z"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">Format Converter</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Convert between JPG, PNG, WebP, AVIF, and more</p>
                    <div class="flex items-center text-red-600 dark:text-red-400 font-medium group">
                        <span>Get Started</span>
                        <svg class="w-5 h-5 ml-2 transition-transform group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.2 12l-7.9 7.9 1.4 1.4 9.3-9.3-9.3-9.3-1.4 1.4z"/></svg>
                    </div>
                </div>
                
                <!-- Batch Processor Tool -->
                <div class="tool-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl" onclick="window.location.href='tools/batch-processor.html'">
                    <div class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg flex items-center justify-center mb-4 shadow-md">
                        <svg class="w-8 h-8 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">Batch Processor</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Process multiple files with combined operations</p>
                    <div class="flex items-center text-indigo-600 dark:text-indigo-400 font-medium group">
                        <span>Get Started</span>
                        <svg class="w-5 h-5 ml-2 transition-transform group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.2 12l-7.9 7.9 1.4 1.4 9.3-9.3-9.3-9.3-1.4 1.4z"/></svg>
                    </div>
                </div>
                
                <!-- PDF to DOC Tool -->
                <div class="tool-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl" onclick="window.location.href='tools/pdf-to-doc.html'">
                    <div class="w-12 h-12 bg-gradient-to-br from-teal-500 to-teal-600 rounded-lg flex items-center justify-center mb-4 shadow-md">
                        <img src="assets/svg-icons/pdf-to-doc-icon.svg" alt="PDF to DOC" class="w-6 h-6 text-white" style="filter: brightness(0) invert(1);">
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">PDF to DOC</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Convert PDF files to DOC/DOCX format with high accuracy</p>
                    <div class="flex items-center text-teal-600 dark:text-teal-400 font-medium group">
                        <span>Get Started</span>
                        <svg class="w-5 h-5 ml-2 transition-transform group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.2 12l-7.9 7.9 1.4 1.4 9.3-9.3-9.3-9.3-1.4 1.4z"/></svg>
                    </div>
                </div>
                
                <!-- QR Code Generator Tool -->
                <div class="tool-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl" onclick="window.location.href='tools/qr-generator.html'">
                    <div class="w-12 h-12 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg flex items-center justify-center mb-4 shadow-md">
                        <svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 11h8V3H3v8zm2-6h4v4H5V5zm8-2v8h8V3h-8zm6 6h-4V5h4v4zM3 21h8v-8H3v8zm2-6h4v4H5v-4zm13-2h3v2h-3v-2zm0-4h3v2h-3v-2zm-2 4h2v2h-2v-2zm-2 0h2v2h-2v-2zm-2-2h2v2h-2v-2zm-2 0h2v2h-2v-2zm-2-2h2v2h-2v-2zm-2 0h2v2h-2v-2z"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">QR Code Generator</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Create custom QR codes with colors and sizes</p>
                    <div class="flex items-center text-cyan-600 dark:text-cyan-400 font-medium group">
                        <span>Get Started</span>
                        <svg class="w-5 h-5 ml-2 transition-transform group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.2 12l-7.9 7.9 1.4 1.4 9.3-9.3-9.3-9.3-1.4 1.4z"/></svg>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    </main>
    
    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12" role="contentinfo" aria-label="Site footer">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg" aria-hidden="true">
                            <div class="relative">
                                <svg class="w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z M8.5 12.5l2.5 3 3.5-4.5 4.5 6H5l3.5-4.5z"/></svg>
                                <svg class="w-4 h-4 text-blue-200 absolute -top-1 -right-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z M8.5 12.5l2.5 3 3.5-4.5 4.5 6H5l3.5-4.5z"/></svg>
                            </div>
                        </div>
                        <div class="flex flex-col">
                            <span class="text-xl font-bold text-white">ImagePDF Toolkit</span>
                            <span class="text-xs text-gray-400 font-medium">Professional Tools</span>
                        </div>
                    </div>
                    <p class="text-gray-400">Professional image and PDF processing tools for modern workflows.</p>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4">Tools</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="tools/image-to-pdf.html" class="hover:text-white transition-colors cursor-pointer hover:translate-x-1 transform duration-200 inline-block">Image to PDF</a></li>
                        <li><a href="tools/pdf-to-images.html" class="hover:text-white transition-colors cursor-pointer hover:translate-x-1 transform duration-200 inline-block">PDF to Images</a></li>
                        <li><a href="tools/image-compressor.html" class="hover:text-white transition-colors cursor-pointer hover:translate-x-1 transform duration-200 inline-block">Image Compressor</a></li>
                        <li><a href="tools/image-resizer.html" class="hover:text-white transition-colors cursor-pointer hover:translate-x-1 transform duration-200 inline-block">Image Resizer</a></li>
                        <li><a href="tools/format-converter.html" class="hover:text-white transition-colors cursor-pointer hover:translate-x-1 transform duration-200 inline-block">Format Converter</a></li>
                        <li><a href="tools/batch-processor.html" class="hover:text-white transition-colors cursor-pointer hover:translate-x-1 transform duration-200 inline-block">Batch Processor</a></li>
                        <li><a href="tools/pdf-to-doc.html" class="hover:text-white transition-colors cursor-pointer hover:translate-x-1 transform duration-200 inline-block">PDF to DOC</a></li>
                        <li><a href="tools/qr-generator.html" class="hover:text-white transition-colors cursor-pointer hover:translate-x-1 transform duration-200 inline-block">QR Code Generator</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4">Company</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="about.html" class="hover:text-white transition-colors">About Us</a></li>
                        <li><a href="privacy.html" class="hover:text-white transition-colors">Privacy Policy</a></li>
                        <li><a href="terms.html" class="hover:text-white transition-colors">Terms of Service</a></li>
                        <li><a href="contact.html" class="hover:text-white transition-colors">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4">Connect</h4>
                    <div class="flex space-x-4">
               <a href="https://github.com/techuhat" class="text-gray-400 hover:text-white transition-colors" target="_blank" rel="noopener noreferrer">
                            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
                        </a>
                        <a href="https://www.linkedin.com/in/mohdkhanumar/" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 ImagePDF Toolkit. All rights reserved. Design by Tech U ❤️</p>
            </div>
        </div>
    </footer>
    
    <script>
        // Modern Toast System
        let toastId = 0;
        const activeToasts = new Map();

        // Toast messages configuration
        const toastMessages = {
            success: {
                message: 'Success! Your action was completed successfully.',
                icon: '✓'
            },
            error: {
                message: 'Error! Something went wrong. Please try again.',
                icon: '✕'
            },
            warning: {
                message: 'Warning! Please check your input and try again.',
                icon: '⚠'
            },
            info: {
                message: 'Info: Here is some important information for you.',
                icon: 'ℹ'
            }
        };

        // Main toast function
        function showToast(message, type = 'success', duration = 4000) {
            try {
                const container = document.getElementById('toastContainer');
                if (!container) {
                    console.error('❌ Toast container not found!');
                    return;
                }
                
                const id = ++toastId;
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.dataset.id = id;
                
                // Use provided message or default
                const displayMessage = message || toastMessages[type]?.message || 'Notification';
                
                toast.innerHTML = `
                    <div class="toast-content">
                        <div class="toast-message">${displayMessage}</div>
                        <button class="toast-close" onclick="dismissToast(${id})">×</button>
                    </div>
                    <div class="progress-bar" style="animation-duration: ${duration}ms;"></div>
                `;
                
                container.appendChild(toast);
                activeToasts.set(id, toast);
                
                // Add swipe functionality
                addSwipeToToast(toast);
                
                // Auto remove
                const autoRemoveTimeout = setTimeout(() => {
                    dismissToast(id);
                }, duration);
                
                toast.dataset.timeoutId = autoRemoveTimeout;
                
                return id;
                
            } catch (error) {
                console.error('❌ Toast error:', error);
                // Fallback to alert
                alert(`${type.toUpperCase()}: ${message}`);
            }
        }
        
        // Dismiss toast function
        function dismissToast(id) {
            const toast = activeToasts.get(id);
            if (toast && toast.parentNode) {
                // Clear auto-remove timeout
                if (toast.dataset.timeoutId) {
                    clearTimeout(parseInt(toast.dataset.timeoutId));
                }
                
                toast.classList.add('hiding');
                
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.remove();
                        activeToasts.delete(id);
                    }
                }, 300);
            }
        }
        
        // Add swipe functionality to toast - OPTIMIZED FOR SPEED
        function addSwipeToToast(toast) {
            let startX = 0;
            let currentX = 0;
            let isDragging = false;
            let rafId = null;
            
            // Touch events for mobile
            toast.addEventListener('touchstart', handleTouchStart, { passive: false });
            toast.addEventListener('touchmove', handleTouchMove, { passive: false });
            toast.addEventListener('touchend', handleTouchEnd);
            
            // Mouse events for desktop
            toast.addEventListener('mousedown', handleMouseStart);
            toast.addEventListener('mousemove', handleMouseMove);
            toast.addEventListener('mouseup', handleMouseEnd);
            toast.addEventListener('mouseleave', handleMouseEnd);
            
            function handleTouchStart(e) {
                startX = e.touches[0].clientX;
                isDragging = true;
                toast.style.transition = 'none';
                toast.style.willChange = 'transform, opacity';
                e.preventDefault();
            }
            
            function handleMouseStart(e) {
                startX = e.clientX;
                isDragging = true;
                toast.style.transition = 'none';
                toast.style.willChange = 'transform, opacity';
                e.preventDefault();
            }
            
            function handleTouchMove(e) {
                if (!isDragging) return;
                currentX = e.touches[0].clientX;
                
                // Cancel previous animation frame
                if (rafId) {
                    cancelAnimationFrame(rafId);
                }
                
                // Use requestAnimationFrame for smooth animation
                rafId = requestAnimationFrame(updateSwipePosition);
                e.preventDefault();
            }
            
            function handleMouseMove(e) {
                if (!isDragging) return;
                currentX = e.clientX;
                
                // Cancel previous animation frame
                if (rafId) {
                    cancelAnimationFrame(rafId);
                }
                
                // Use requestAnimationFrame for smooth animation
                rafId = requestAnimationFrame(updateSwipePosition);
                e.preventDefault();
            }
            
            function updateSwipePosition() {
                const deltaX = currentX - startX;
                
                // Only allow swiping to the right
                if (deltaX >= 0) {
                    // Use transform3d for hardware acceleration
                    toast.style.transform = `translate3d(${deltaX}px, 0, 0)`;
                    
                    // Faster opacity calculation
                    const opacity = Math.max(0.2, 1 - (deltaX * 0.005));
                    toast.style.opacity = opacity;
                }
            }
            
            function handleTouchEnd(e) {
                handleEnd();
            }
            
            function handleMouseEnd(e) {
                handleEnd();
            }
            
            function handleEnd() {
                if (!isDragging) return;
                isDragging = false;
                
                // Cancel any pending animation frame
                if (rafId) {
                    cancelAnimationFrame(rafId);
                    rafId = null;
                }
                
                const deltaX = currentX - startX;
                
                // Reduced threshold for faster dismiss - 60px instead of 100px
                if (deltaX > 60) {
                    // Fast dismiss animation
                    toast.style.transition = 'all 0.15s ease-out';
                    toast.style.transform = 'translate3d(400px, 0, 0)';
                    toast.style.opacity = '0';
                    
                    setTimeout(() => {
                        const id = parseInt(toast.dataset.id);
                        dismissToast(id);
                    }, 150);
                } else {
                    // Quick snap back
                    toast.style.transition = 'all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    toast.style.transform = 'translate3d(0, 0, 0)';
                    toast.style.opacity = '1';
                    
                    // Clean up styles after animation
                    setTimeout(() => {
                        toast.style.willChange = 'auto';
                    }, 200);
                }
                
                startX = 0;
                currentX = 0;
            }
        }
            
            // Mouse events for desktop
            inner.addEventListener('mousedown', handleMouseStart);
            inner.addEventListener('mousemove', handleMouseMove);
            inner.addEventListener('mouseup', handleMouseEnd);
            inner.addEventListener('mouseleave', handleMouseEnd);
            
            function handleTouchStart(e) {
                startX = e.touches[0].clientX;
                isDragging = true;
                const transform = getComputedStyle(inner).transform;
                initialTransform = transform === 'none' ? 0 : parseFloat(transform.split(',')[4]) || 0;
                inner.style.transition = 'none';
                e.preventDefault();
            }
            
            function handleMouseStart(e) {
                startX = e.clientX;
                isDragging = true;
                const transform = getComputedStyle(inner).transform;
                initialTransform = transform === 'none' ? 0 : parseFloat(transform.split(',')[4]) || 0;
                inner.style.transition = 'none';
                e.preventDefault();
            }
            
            function handleTouchMove(e) {
                if (!isDragging) return;
                currentX = e.touches[0].clientX;
                updateSwipePosition();
                e.preventDefault();
            }
            
            function handleMouseMove(e) {
                if (!isDragging) return;
                currentX = e.clientX;
                updateSwipePosition();
                e.preventDefault();
            }
            
            function updateSwipePosition() {
                const deltaX = currentX - startX;
                const newTransform = initialTransform + deltaX;
                
                // Only allow swiping to the right (positive X)
                if (newTransform >= 0) {
                    inner.style.transform = `translateX(${newTransform}px)`;
                    
                    // Add visual feedback for swipe
                    const opacity = Math.max(0.3, 1 - (newTransform / 200));
                    inner.style.opacity = opacity;
                }
            }
            
            function handleTouchEnd(e) {
                handleEnd();
            }
            
            function handleMouseEnd(e) {
                handleEnd();
            }
            
            function handleEnd() {
                if (!isDragging) return;
                isDragging = false;
                
                const deltaX = currentX - startX;
                inner.style.transition = 'all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)';
                
                // If swiped more than 100px to the right, dismiss the toast
                if (deltaX > 100) {
                    dismissToastElement(toast);
                } else {
                    // Snap back to original position
                    inner.style.transform = 'translateX(0)';
                    inner.style.opacity = '1';
                }
                
                startX = 0;
                currentX = 0;
                initialTransform = 0;
            }
        }
        
        // Make the function globally accessible
        window.originalShowToast = showToast;

        // Welcome toast function
        function showWelcomeToast() {
            console.log('🧪 Welcome toast function called!');
            showToast('🎉 Welcome to ImagePDF Toolkit! All tools are ready to use.', 'info', 4000);
        }


        // Performance Optimization Functions
        
        // Debounce function for better performance
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        // Throttle function for scroll events
        function throttle(func, limit) {
            let inThrottle;
            return function() {
                const args = arguments;
                const context = this;
                if (!inThrottle) {
                    func.apply(context, args);
                    inThrottle = true;
                    setTimeout(() => inThrottle = false, limit);
                }
            }
        }
        
        // Optimized file processing with Web Workers simulation
        function processFileOptimized(file, options = {}) {
            return new Promise((resolve, reject) => {
                // Use requestIdleCallback for better performance
                const processChunk = (deadline) => {
                    try {
                        if (deadline.timeRemaining() > 0 || deadline.didTimeout) {
                            // Process file in chunks
                            const reader = new FileReader();
                            reader.onload = (e) => resolve(e.target.result);
                            reader.onerror = reject;
                            reader.readAsDataURL(file);
                        } else {
                            requestIdleCallback(processChunk);
                        }
                    } catch (error) {
                        reject(error);
                    }
                };
                
                if (window.requestIdleCallback) {
                    requestIdleCallback(processChunk);
                } else {
                    // Fallback for browsers without requestIdleCallback
                    setTimeout(() => {
                        const reader = new FileReader();
                        reader.onload = (e) => resolve(e.target.result);
                        reader.onerror = reject;
                        reader.readAsDataURL(file);
                    }, 0);
                }
            });
        }
        
        // Memory optimization - clean up object URLs
        function cleanupObjectURLs() {
            if (window.objectURLs) {
                window.objectURLs.forEach(url => {
                    try {
                        URL.revokeObjectURL(url);
                    } catch (e) {
                        console.warn('Failed to revoke object URL:', e);
                    }
                });
                window.objectURLs = [];
            }
        }
        
        // Initialize object URLs array
        if (!window.objectURLs) {
            window.objectURLs = [];
        }
        
        // Image compression with better quality control
        function compressImageOptimized(file, quality = 0.8, maxWidth = 1920, maxHeight = 1080) {
            return new Promise((resolve) => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const img = new Image();
                
                img.onload = () => {
                    // Calculate optimal dimensions
                    let { width, height } = img;
                    
                    if (width > maxWidth || height > maxHeight) {
                        const ratio = Math.min(maxWidth / width, maxHeight / height);
                        width *= ratio;
                        height *= ratio;
                    }
                    
                    canvas.width = width;
                    canvas.height = height;
                    
                    // Use better image rendering
                    ctx.imageSmoothingEnabled = true;
                    ctx.imageSmoothingQuality = 'high';
                    ctx.drawImage(img, 0, 0, width, height);
                    
                    canvas.toBlob(resolve, file.type, quality);
                };
                
                img.src = URL.createObjectURL(file);
                window.objectURLs.push(img.src);
            });
        }
        
        // Global variables
        let currentFiles = [];
        let processedFiles = [];
        let currentTool = '';
        let currentSlideIndex = 0;
        let imageDataUrls = [];
        
        // Performance monitoring
        const performanceMonitor = {
            startTime: 0,
            endTime: 0,
            
            start() {
                this.startTime = performance.now();
            },
            
            end(operation = 'operation') {
                this.endTime = performance.now();
                const duration = this.endTime - this.startTime;
                console.log(`${operation} took ${duration.toFixed(2)} milliseconds`);
                return duration;
            }
        };
        
        // Theme Management
        function initTheme() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.documentElement.classList.add('dark');
            }
        }
        
        function toggleTheme() {
            const isDark = document.documentElement.classList.contains('dark');
            
            if (isDark) {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                document.documentElement.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        }
        
        // Initialize theme on page load
        initTheme();
        
        // Mobile Menu Functions
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuBtn = document.querySelector('.mobile-menu-btn');
            
            if (mobileMenu && menuBtn) {
                mobileMenu.classList.toggle('show');
                menuBtn.classList.toggle('active');
            }
        }
        
        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuBtn = document.querySelector('.mobile-menu-btn');
            
            if (mobileMenu && menuBtn) {
                mobileMenu.classList.remove('show');
                menuBtn.classList.remove('active');
            }
        }
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuBtn = document.querySelector('.mobile-menu-btn');
            const nav = document.querySelector('nav');
            
            if (mobileMenu && menuBtn && nav && !nav.contains(event.target)) {
                mobileMenu.classList.remove('show');
                menuBtn.classList.remove('active');
            }
        });
        
        // Memory cleanup function
        function cleanupMemory() {
            // Clean up object URLs to prevent memory leaks
            if (window.objectURLs) {
                window.objectURLs.forEach(url => {
                    try {
                        URL.revokeObjectURL(url);
                    } catch (e) {
                        console.warn('Failed to revoke object URL:', e);
                    }
                });
                window.objectURLs = [];
            }
            
            // Force garbage collection hint
            if (window.gc) {
                window.gc();
            }
        }
        
        // Initialize object URLs tracking
        if (!window.objectURLs) {
            window.objectURLs = [];
        }
        
        // Optimize scroll performance with throttling
        const optimizedScrollHandler = throttle(() => {
            // Smooth scroll performance optimizations
            document.documentElement.style.scrollBehavior = 'smooth';
        }, 16); // 60fps
        
        window.addEventListener('scroll', optimizedScrollHandler, { passive: true });



        // Theme toggle event listener and global initialization
        document.addEventListener('DOMContentLoaded', function() {
            const toggle = document.getElementById('dn');
            
            // Check for saved theme preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                toggle.checked = savedTheme === 'dark';
                // Apply theme based on saved preference
                if (savedTheme === 'dark') {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            } else {
                // Set toggle based on current theme
                toggle.checked = document.documentElement.classList.contains('dark');
            }
            
            // Listen for toggle changes
            toggle.addEventListener('change', function() {
                const theme = this.checked ? 'dark' : 'light';
                localStorage.setItem('theme', theme);
                
                if (theme === 'dark') {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            });
            
            // Initialize global drag and drop functionality
            setupGlobalDragDrop();
        });
        

        
        // Utility Functions
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        // Keep dismissToast for backward compatibility
        
        function showProgress(show = true, message = 'Processing...') {
            const container = document.getElementById('progress-container');
            const bar = document.getElementById('progress-bar');
            const text = container.querySelector('.progress-text');
            
            if (show) {
                container.classList.remove('hidden');
                bar.style.width = '0%';
                bar.style.transition = 'width 0.3s ease-out';
                if (text) text.textContent = message;
                
                // Add pulse animation to container
                container.classList.add('animate-pulse');
                setTimeout(() => container.classList.remove('animate-pulse'), 500);
            } else {
                // Smooth hide animation
                container.style.opacity = '0';
                setTimeout(() => {
                    container.classList.add('hidden');
                    container.style.opacity = '1';
                }, 300);
            }
        }
        
        function updateProgress(percentage, message = null) {
            const bar = document.getElementById('progress-bar');
            const container = document.getElementById('progress-container');
            const text = container.querySelector('.progress-text');
            
            const clampedPercentage = Math.min(100, Math.max(0, percentage));
            bar.style.width = `${clampedPercentage}%`;
            
            // Update message if provided
            if (message && text) {
                text.textContent = message;
            }
            
            // Add completion animation
            if (clampedPercentage === 100) {
                bar.classList.add('animate-pulse');
                setTimeout(() => {
                    bar.classList.remove('animate-pulse');
                    showProgress(false);
                }, 500);
            }
            
            // Update progress bar color based on percentage
            if (clampedPercentage < 30) {
                bar.className = bar.className.replace(/bg-\w+-\d+/g, '') + ' bg-red-500';
            } else if (clampedPercentage < 70) {
                bar.className = bar.className.replace(/bg-\w+-\d+/g, '') + ' bg-yellow-500';
            } else {
                bar.className = bar.className.replace(/bg-\w+-\d+/g, '') + ' bg-green-500';
            }
        }
        
        // Enhanced File handling functions with improved drag-and-drop
        function handleFileSelect(event, callback) {
            event.preventDefault();
            event.stopPropagation();
            
            const files = event.target.files || event.dataTransfer.files;
            if (files && files.length > 0) {
                const fileArray = Array.from(files);
                const validFiles = filterValidFiles(fileArray);
                
                if (validFiles.length !== fileArray.length) {
                    const invalidCount = fileArray.length - validFiles.length;
                    // showToast(`${invalidCount} file(s) skipped - invalid format for current tool`, 'warning');
                }
                
                if (validFiles.length > 0) {
                    callback(validFiles);
                    // showToast(`${validFiles.length} file(s) added successfully!`);
                }
                
                // Clear the input to allow re-selection of the same file
                if (event.target.type === 'file') {
                    event.target.value = '';
                }
            }
        }
        
        function filterValidFiles(files) {
            if (!currentTool) return files;
            
            return files.filter(file => {
                switch (currentTool) {
                    case 'image-to-pdf':
                    case 'image-compressor':
                    case 'image-resizer':
                    case 'format-converter':
                    case 'batch-processor':
                        return file.type.startsWith('image/');
                    case 'pdf-to-images':
                        return file.type === 'application/pdf';
                    default:
                        return file.type.startsWith('image/') || file.type === 'application/pdf';
                }
            });
        }
        
        function setupFileDropZone(element, callback) {
            element.addEventListener('dragenter', (e) => {
                e.preventDefault();
                element.classList.add('drag-over');
            });
            
            element.addEventListener('dragover', (e) => {
                e.preventDefault();
                element.classList.add('drag-over');
            });
            
            element.addEventListener('dragleave', (e) => {
                e.preventDefault();
                // Only remove drag-over if we're leaving the element entirely
                if (!element.contains(e.relatedTarget)) {
                    element.classList.remove('drag-over');
                }
            });
            
            element.addEventListener('drop', (e) => {
                e.preventDefault();
                element.classList.remove('drag-over');
                handleFileSelect(e, callback);
            });
        }
        
        // Global drag and drop functionality
        function setupGlobalDragDrop() {
            let dragCounter = 0;
            
            document.addEventListener('dragenter', (e) => {
                e.preventDefault();
                dragCounter++;
                if (currentTool && dragCounter === 1) {
                    showGlobalDropOverlay();
                }
            });
            
            document.addEventListener('dragleave', (e) => {
                e.preventDefault();
                dragCounter--;
                if (dragCounter === 0) {
                    hideGlobalDropOverlay();
                }
            });
            
            document.addEventListener('dragover', (e) => {
                e.preventDefault();
            });
            
            document.addEventListener('drop', (e) => {
                e.preventDefault();
                dragCounter = 0;
                hideGlobalDropOverlay();
                
                if (currentTool && !e.target.closest('.file-drop-zone')) {
                    const files = Array.from(e.dataTransfer.files);
                    if (files.length > 0) {
                        const validFiles = filterValidFiles(files);
                        if (validFiles.length > 0) {
                            currentFiles = [...currentFiles, ...validFiles];
                            updateFileList(currentFiles);
                            // showToast(`${validFiles.length} file(s) added via drag & drop!`);
                        }
                        if (validFiles.length !== files.length) {
                            const invalidCount = files.length - validFiles.length;
                            // showToast(`${invalidCount} file(s) skipped - invalid format`, 'warning');
                        }
                    }
                }
            });
        }
        
        function showGlobalDropOverlay() {
            let overlay = document.getElementById('global-drop-overlay');
            if (!overlay) {
                overlay = document.createElement('div');
                overlay.id = 'global-drop-overlay';
                overlay.className = 'fixed inset-0 bg-blue-600/20 backdrop-blur-sm z-50 flex items-center justify-center transition-all duration-300';
                overlay.innerHTML = `
                    <div class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl border-4 border-dashed border-blue-500 text-center max-w-md mx-4 transform scale-95 hover:scale-100 transition-transform">
                        <svg class="w-16 h-16 text-blue-500 mb-4 animate-bounce" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/></svg>
                        <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-2">Drop Files Here</h3>
                        <p class="text-slate-700 dark:text-gray-300">Release to add files to <span class="font-semibold text-blue-600">${getToolDisplayName()}</span></p>
                    </div>
                `;
                document.body.appendChild(overlay);
            }
            overlay.classList.remove('hidden');
            setTimeout(() => overlay.style.opacity = '1', 10);
        }
        
        function hideGlobalDropOverlay() {
            const overlay = document.getElementById('global-drop-overlay');
            if (overlay) {
                overlay.style.opacity = '0';
                setTimeout(() => overlay.classList.add('hidden'), 300);
            }
        }
        
        function getToolDisplayName() {
            const names = {
                'image-to-pdf': 'Image to PDF Converter',
                'pdf-to-images': 'PDF to Images Converter',
                'image-compressor': 'Image Compressor',
                'image-resizer': 'Image Resizer',
                'format-converter': 'Format Converter',
                'batch-processor': 'Batch Processor'
            };
            return names[currentTool] || 'Current Tool';
        }
        
        // Image Slider Functions - Removed to fix errors
        function createImageSlider(files) {
            return new Promise((resolve) => {
                // Simply resolve with empty string as we've removed the slider functionality
                resolve('');
            });
        }
        
        // Tool utility functions
        
        function getToolContent(toolName) {
            const commonFileInput = `
                <div class="file-drop-zone rounded-xl p-8 text-center mb-6">
                    <div class="file-input-wrapper">
                        <svg class="w-12 h-12 text-gray-400 mb-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/></svg>
                        <p class="text-lg font-medium mb-2">Drag & drop files here</p>
                        <p class="text-gray-500 mb-4">or click to browse</p>
                        <button type="button" onclick="document.getElementById('file-input').click()" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            Choose Files
                        </button>
                        <input type="file" id="file-input" multiple accept="image/*,.pdf" class="hidden">
                    </div>
                </div>
                <!-- Image slider container removed -->
                <div id="file-preview" class="hidden mb-6">
                    <h3 class="text-lg font-semibold mb-4">Selected Files</h3>
                    <div id="file-list" class="space-y-2 mb-4"></div>
                    <div id="image-preview-grid" class="image-preview-grid"></div>
                </div>
            `;
            
            const controls = {
                'batch-processor': `
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold mb-4">Individual Image Settings</h3>
                        <div id="batch-images" class="grid gap-6 md:grid-cols-2">
                            <!-- Individual image controls will be added here -->
                        </div>
                    </div>
                `,
                'pdf-to-images': `
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium mb-2">Output Format</label>
                            <select id="pdf-extract-format" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700">
                                <option value="jpeg">JPEG</option>
                                <option value="png">PNG</option>
                                <option value="webp">WebP</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Quality</label>
                            <input type="range" id="pdf-extract-quality" min="10" max="100" value="90" class="w-full">
                            <div class="text-center text-sm text-gray-500 mt-1">
                                <span id="pdf-extract-quality-value">90</span>%
                            </div>
                        </div>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-2">DPI (Resolution)</label>
                        <select id="pdf-extract-dpi" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700">
                            <option value="96">96 DPI (Screen Resolution)</option>
                            <option value="150">150 DPI (Medium Quality)</option>
                            <option value="300">300 DPI (High Quality)</option>
                        </select>
                    </div>
                `,
                'image-to-pdf': `
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium mb-2">Page Layout</label>
                            <select id="pdf-layout" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700">
                                <option value="portrait">Portrait</option>
                                <option value="landscape">Landscape</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Page Size</label>
                            <select id="pdf-size" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700">
                                <option value="a4">A4</option>
                                <option value="letter">Letter</option>
                                <option value="legal">Legal</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-2">Margin (px)</label>
                        <input type="range" id="pdf-margin" min="0" max="50" value="10" class="w-full">
                        <div class="text-center text-sm text-gray-500 mt-1">
                            <span id="margin-value">10</span>px
                        </div>
                    </div>
                `,
                'image-compressor': `
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-2">Quality</label>
                        <input type="range" id="quality-slider" min="10" max="100" value="80" class="w-full">
                        <div class="text-center text-sm text-gray-500 mt-1">
                            <span id="quality-value">80</span>%
                        </div>
                    </div>
                    <div id="compression-stats" class="hidden bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6">
                        <div class="grid grid-cols-3 gap-4 text-center">
                            <div>
                                <div class="text-sm text-gray-500">Original</div>
                                <div id="original-size" class="font-bold">-</div>
                            </div>
                            <div>
                                <div class="text-sm text-gray-500">Compressed</div>
                                <div id="compressed-size" class="font-bold">-</div>
                            </div>
                            <div>
                                <div class="text-sm text-gray-500">Saved</div>
                                <div id="saved-percentage" class="font-bold text-green-600">-</div>
                            </div>
                        </div>
                    </div>
                `,
                'image-resizer': `
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium mb-2">Width (px)</label>
                            <input type="number" id="resize-width" placeholder="800" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Height (px)</label>
                            <input type="number" id="resize-height" placeholder="600" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700">
                        </div>
                    </div>
                    <div class="mb-6">
                        <label class="flex items-center">
                            <input type="checkbox" id="maintain-aspect" checked class="mr-2">
                            <span class="text-sm">Maintain aspect ratio</span>
                        </label>
                    </div>
                `,
                'format-converter': `
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-2">Output Format</label>
                        <select id="output-format" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700">
                            <option value="jpeg">JPEG</option>
                            <option value="png">PNG</option>
                            <option value="webp">WebP</option>
                            <option value="avif">AVIF</option>
                            <option value="bmp">BMP</option>
                            <option value="tiff">TIFF</option>
                        </select>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-2">Quality</label>
                        <input type="range" id="convert-quality" min="10" max="100" value="90" class="w-full">
                        <div class="text-center text-sm text-gray-500 mt-1">
                            <span id="convert-quality-value">90</span>%
                        </div>
                    </div>
                `
            };
            
            return `
                ${commonFileInput}
                ${controls[toolName] || ''}
                <div class="flex space-x-4">
                    <button id="process-btn" class="flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
                        Process Files
                    </button>
                    <button id="download-btn" class="flex-1 bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed hidden" disabled>
                        <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
                        Download All
                    </button>
                </div>
                <div id="results" class="mt-6 hidden">
                    <h3 class="text-lg font-semibold mb-4">Processed Files</h3>
                    <div id="results-list" class="space-y-2"></div>
                </div>
            `;
        }
        
        function initializeTool(toolName) {
            const fileInput = document.getElementById('file-input');
            const fileDropZone = document.querySelector('.file-drop-zone');
            const processBtn = document.getElementById('process-btn');
            const downloadBtn = document.getElementById('download-btn');
            
            // Setup file input
            if (fileInput) {
                fileInput.addEventListener('change', (e) => {
                    handleFileSelect(e, updateFileList);
                });
            }
            
            // Setup drop zone
            if (fileDropZone) {
                setupFileDropZone(fileDropZone, updateFileList);
            }
            
            // Setup process button
            if (processBtn) {
                processBtn.addEventListener('click', () => processFiles(toolName));
            }
            
            // Setup download button
            if (downloadBtn) {
                downloadBtn.addEventListener('click', downloadAllFiles);
            }
            
            // Setup tool-specific controls
            setupToolControls(toolName);
        }
        
        function setupToolControls(toolName) {
            switch (toolName) {
                case 'image-compressor':
                    const qualitySlider = document.getElementById('quality-slider');
                    const qualityValue = document.getElementById('quality-value');
                    if (qualitySlider && qualityValue) {
                        qualitySlider.addEventListener('input', (e) => {
                            qualityValue.textContent = e.target.value;
                        });
                    }
                    break;
                    
                case 'image-to-pdf':
                    const marginSlider = document.getElementById('pdf-margin');
                    const marginValue = document.getElementById('margin-value');
                    if (marginSlider && marginValue) {
                        marginSlider.addEventListener('input', (e) => {
                            marginValue.textContent = e.target.value;
                        });
                    }
                    break;
                    
                case 'pdf-to-images':
                    const pdfExtractQualitySlider = document.getElementById('pdf-extract-quality');
                    const pdfExtractQualityValue = document.getElementById('pdf-extract-quality-value');
                    if (pdfExtractQualitySlider && pdfExtractQualityValue) {
                        pdfExtractQualitySlider.addEventListener('input', (e) => {
                            pdfExtractQualityValue.textContent = e.target.value;
                        });
                    }
                    break;
                    
                case 'format-converter':
                    const convertQualitySlider = document.getElementById('convert-quality');
                    const convertQualityValue = document.getElementById('convert-quality-value');
                    if (convertQualitySlider && convertQualityValue) {
                        convertQualitySlider.addEventListener('input', (e) => {
                            convertQualityValue.textContent = e.target.value;
                        });
                    }
                    break;
                    
                case 'image-resizer':
                    const widthInput = document.getElementById('resize-width');
                    const heightInput = document.getElementById('resize-height');
                    const maintainAspect = document.getElementById('maintain-aspect');
                    
                    if (widthInput && heightInput && maintainAspect) {
                        let aspectRatio = 1;
                        
                        widthInput.addEventListener('input', (e) => {
                            if (maintainAspect.checked && currentFiles.length > 0) {
                                const newHeight = Math.round(e.target.value / aspectRatio);
                                heightInput.value = newHeight;
                            }
                        });
                        
                        heightInput.addEventListener('input', (e) => {
                            if (maintainAspect.checked && currentFiles.length > 0) {
                                const newWidth = Math.round(e.target.value * aspectRatio);
                                widthInput.value = newWidth;
                            }
                        });
                    }
                    break;
            }
        }
        
        async function updateFileList(files) {
            currentFiles = files;
            const filePreview = document.getElementById('file-preview');
            const fileList = document.getElementById('file-list');
            const processBtn = document.getElementById('process-btn');
            const imagePreviewGrid = document.getElementById('image-preview-grid');
            
            if (files.length > 0) {
                filePreview.classList.remove('hidden');
                fileList.innerHTML = '';
                
                // Get image files
                const imageFiles = files.filter(file => file.type.startsWith('image/'));
                
                // Create file list with enhanced styling and animations
                files.forEach((file, index) => {
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item flex items-start justify-between bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600 transition-all duration-200 hover:shadow-md hover:border-blue-300 dark:hover:border-blue-500';
                    fileItem.style.opacity = '0';
                    fileItem.style.transform = 'translateY(10px)';
                    
                    const fileIcon = getFileIcon(file.type);
                    const fileTypeClass = file.type.startsWith('image/') ? 'text-green-600' : 
                                         file.type === 'application/pdf' ? 'text-red-600' : 'text-blue-600';
                    
                    fileItem.innerHTML = `
                        <div class="flex items-start flex-1 min-w-0">
                            <div class="flex-shrink-0 w-12 h-12 bg-white dark:bg-gray-600 rounded-lg flex items-center justify-center mr-4 shadow-sm">
                                <i class="fas ${fileIcon} ${fileTypeClass} text-lg"></i>
                            </div>
                            <div class="flex-1 min-w-0 overflow-hidden">
                                <div class="font-medium text-gray-900 dark:text-white break-words leading-tight">${file.name}</div>
                                <div class="text-sm text-gray-500 dark:text-gray-400 flex flex-wrap items-center mt-1 gap-1">
                                    <span>${formatFileSize(file.size)}</span>
                                    <span class="hidden sm:inline">•</span>
                                    <span class="capitalize">${file.type.split('/')[1] || 'Unknown'}</span>
                                    ${file.lastModified ? `<span class="hidden sm:inline">•</span><span>${new Date(file.lastModified).toLocaleDateString()}</span>` : ''}
                                </div>
                            </div>
                        </div>
                        <button onclick="removeFile(${index})" class="btn-enhanced flex-shrink-0 ml-4 p-2 text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200">
                            <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                              <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                            </svg>
                        </button>
                    `;
                    
                    fileList.appendChild(fileItem);
                    
                    // Animate in
                    setTimeout(() => {
                        fileItem.style.opacity = '1';
                        fileItem.style.transform = 'translateY(0)';
                    }, index * 50);
                });
                
                // Create enhanced image preview grid
                imagePreviewGrid.innerHTML = '';
                let imageLoadCount = 0;
                
                files.forEach((file, index) => {
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            const previewItem = document.createElement('div');
                            previewItem.className = 'image-preview-item group relative overflow-hidden';
                            previewItem.style.opacity = '0';
                            previewItem.style.transform = 'scale(0.9)';
                            
                            previewItem.innerHTML = `
                                <div class="relative w-full h-full">
                                    <img src="${e.target.result}" alt="${file.name}" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110" />
                                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300"></div>
                                    <button class="remove-btn absolute top-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-red-600 hover:scale-110 flex items-center justify-center" onclick="event.stopPropagation(); removeFile(${index})">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                          <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                                        </svg>
                                    </button>
                                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300">
                                        <div class="file-name text-white text-sm font-medium truncate">${file.name}</div>
                                        <div class="text-white/80 text-xs mt-1">${formatFileSize(file.size)}</div>
                                    </div>
                                </div>
                            `;
                            
                            imagePreviewGrid.appendChild(previewItem);
                            
                            // Animate in with stagger
                            setTimeout(() => {
                                previewItem.style.opacity = '1';
                                previewItem.style.transform = 'scale(1)';
                            }, imageLoadCount * 100);
                            
                            imageLoadCount++;
                        };
                        reader.readAsDataURL(file);
                    }
                });
                
                // Generate batch processor controls if needed
                if (currentTool === 'batch-processor') {
                    generateBatchControls(imageFiles);
                }
                
                processBtn.disabled = false;
            } else {
                filePreview.classList.add('hidden');
                processBtn.disabled = true;
            }
        }
        
        function generateBatchControls(imageFiles) {
            const batchContainer = document.getElementById('batch-images');
            if (!batchContainer) return;
            
            batchContainer.innerHTML = '';
            
            imageFiles.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const controlCard = document.createElement('div');
                    controlCard.className = 'bg-white dark:bg-gray-700 rounded-lg p-4 border dark:border-gray-600';
                    controlCard.innerHTML = `
                        <div class="flex flex-col space-y-4">
                            <div class="flex items-center space-x-3">
                                <img src="${e.target.result}" alt="${file.name}" class="w-16 h-16 object-cover rounded-lg">
                                <div class="flex-1 min-w-0">
                                    <h4 class="text-sm font-medium truncate">${file.name}</h4>
                                    <p class="text-xs text-gray-500">${formatFileSize(file.size)}</p>
                                </div>
                                <button onclick="removeBatchFile(${index})" class="text-red-500 hover:text-red-700 p-1">
                                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                      <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                                    </svg>
                                </button>
                            </div>
                            
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-xs font-medium mb-1">Output Format</label>
                                    <select id="batch-format-${index}" class="w-full p-2 text-sm border dark:border-gray-600 rounded dark:bg-gray-600">
                                        <option value="jpeg">JPEG</option>
                                        <option value="png">PNG</option>
                                        <option value="webp">WebP</option>
                                        <option value="avif">AVIF</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-xs font-medium mb-1">Quality: <span id="batch-quality-value-${index}">80</span>%</label>
                                    <input type="range" id="batch-quality-${index}" min="10" max="100" value="80" class="w-full" 
                                           oninput="document.getElementById('batch-quality-value-${index}').textContent = this.value">
                                </div>
                            </div>
                        </div>
                    `;
                    batchContainer.appendChild(controlCard);
                };
                reader.readAsDataURL(file);
            });
        }
        
        function removeBatchFile(index) {
            removeFile(index);
        }
        
        function removeFile(index) {
            currentFiles.splice(index, 1);
            updateFileList(currentFiles);
        }
        
        function getFileIcon(mimeType) {
            if (mimeType.startsWith('image/')) return '<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5-7l-3 3.72L9 13l-3 4h12l-4-5z"/></svg>';
            if (mimeType === 'application/pdf') return '<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm12 6V9c0-.55-.45-1-1-1h-2v5h2c.55 0 1-.45 1-1zm-2-3h1v3h-1V9zm4 2h-1v1h1v1h-2V9h2v1z"/></svg>';
            return '<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"/></svg>';
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // Enhanced processing functions with better feedback
        async function processFiles(toolName) {
            if (currentFiles.length === 0) {
                // showToast('No files selected for processing', 'warning');
                return;
            }
            
            const toolDisplayName = getToolDisplayName(toolName);
            showProgress(true, `Initializing ${toolDisplayName}...`);
            processedFiles = [];
            
            const processBtn = document.getElementById('process-btn');
            const downloadBtn = document.getElementById('download-btn');
            
            // Enhanced button state with animation
            processBtn.disabled = true;
            processBtn.innerHTML = '<svg class="w-5 h-5 mr-2 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Processing...';
            processBtn.classList.add('opacity-75', 'cursor-not-allowed');
            
            const startTime = Date.now();
            let processedCount = 0;
            
            try {
                // showToast(`Starting ${toolDisplayName} for ${currentFiles.length} file(s)`, 'info', 2000);
                
                for (let i = 0; i < currentFiles.length; i++) {
                    const file = currentFiles[i];
                    const progressPercent = (i / currentFiles.length) * 90; // Reserve 10% for final steps
                    
                    updateProgress(progressPercent, `Processing ${file.name}... (${i + 1}/${currentFiles.length})`);
                    
                    let processedFile;
                    
                    try {
                        switch (toolName) {
                            case 'image-to-pdf':
                                // Skip individual processing for image-to-pdf as we'll create a combined PDF later
                                if (file.type.startsWith('image/')) {
                                    processedFile = file;
                                    updateProgress(progressPercent + (90 / currentFiles.length) * 0.5, `Preparing ${file.name} for PDF...`);
                                }
                                break;
                            case 'pdf-to-images':
                                if (file.type === 'application/pdf') {
                                    updateProgress(progressPercent + (90 / currentFiles.length) * 0.3, `Extracting images from ${file.name}...`);
                                    const extractedImages = await extractImagesFromPDF(file);
                                    if (extractedImages && extractedImages.length > 0) {
                                        processedFiles = [...processedFiles, ...extractedImages];
                                        processedCount += extractedImages.length;
                                        updateProgress(progressPercent + (90 / currentFiles.length) * 0.8, `Extracted ${extractedImages.length} images from ${file.name}`);
                                    }
                                }
                                break;
                            case 'image-compressor':
                                updateProgress(progressPercent + (90 / currentFiles.length) * 0.3, `Compressing ${file.name}...`);
                                processedFile = await compressImage(file);
                                if (processedFile) {
                                    const compressionRatio = ((file.size - processedFile.size) / file.size * 100).toFixed(1);
                                    updateProgress(progressPercent + (90 / currentFiles.length) * 0.8, `Compressed ${file.name} (${compressionRatio}% reduction)`);
                                }
                                break;
                            case 'image-resizer':
                                updateProgress(progressPercent + (90 / currentFiles.length) * 0.3, `Resizing ${file.name}...`);
                                processedFile = await resizeImage(file);
                                updateProgress(progressPercent + (90 / currentFiles.length) * 0.8, `Resized ${file.name}`);
                                break;
                            case 'format-converter':
                                const outputFormat = document.getElementById('output-format')?.value || 'jpeg';
                                updateProgress(progressPercent + (90 / currentFiles.length) * 0.3, `Converting ${file.name} to ${outputFormat.toUpperCase()}...`);
                                processedFile = await convertImageFormat(file);
                                updateProgress(progressPercent + (90 / currentFiles.length) * 0.8, `Converted ${file.name} to ${outputFormat.toUpperCase()}`);
                                break;
                            case 'batch-processor':
                                const batchFormat = document.getElementById(`batch-format-${i}`)?.value || 'jpeg';
                                updateProgress(progressPercent + (90 / currentFiles.length) * 0.3, `Batch processing ${file.name} to ${batchFormat.toUpperCase()}...`);
                                processedFile = await processBatchImage(file, i);
                                updateProgress(progressPercent + (90 / currentFiles.length) * 0.8, `Processed ${file.name}`);
                                break;
                            default:
                                processedFile = file;
                        }
                        
                        if (processedFile && toolName !== 'pdf-to-images') {
                            processedFiles.push(processedFile);
                            processedCount++;
                        }
                        
                    } catch (fileError) {
                        console.error(`Error processing ${file.name}:`, fileError);
                        // showToast(`Failed to process ${file.name}`, 'error', 2000);
                    }
                }
                
                updateProgress(95, 'Finalizing processing...');
                
                if (toolName === 'image-to-pdf' && processedFiles.length > 0) {
                    updateProgress(97, 'Creating PDF from images...');
                    const combinedPDF = await createPDFFromImages(currentFiles);
                    processedFiles = [combinedPDF];
                    processedCount = 1;
                }
                
                updateProgress(100, 'Processing complete!');
                
                const processingTime = ((Date.now() - startTime) / 1000).toFixed(1);
                showResults();
                // showToast(`Successfully processed ${processedCount} file(s) in ${processingTime}s!`, 'success', 4000);
                
            } catch (error) {
                console.error('Processing error:', error);
                // showToast(`Error during ${toolDisplayName}: ${error.message || 'Please try again.'}`, 'error', 5000);
                updateProgress(0);
            } finally {
                setTimeout(() => {
                    showProgress(false);
                }, 1000);
                
                // Reset button state with animation
                processBtn.disabled = false;
                processBtn.innerHTML = '<svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/></svg>Process Files';
                processBtn.classList.remove('opacity-75', 'cursor-not-allowed');
                
                if (processedFiles.length > 0) {
                    downloadBtn.classList.remove('hidden');
                    downloadBtn.disabled = false;
                    
                    // Add success animation to download button
                    downloadBtn.classList.add('animate-pulse');
                    setTimeout(() => downloadBtn.classList.remove('animate-pulse'), 2000);
                }
            }
        }
        
        // Batch processing function
        async function processBatchImage(file, index) {
            if (!file.type.startsWith('image/')) return file;
            
            const img = await loadImage(file);
            const formatSelect = document.getElementById(`batch-format-${index}`);
            const qualitySlider = document.getElementById(`batch-quality-${index}`);
            
            if (!formatSelect || !qualitySlider) return file;
            
            const format = formatSelect.value;
            const quality = qualitySlider.value / 100;
            
            const canvas = createCanvas(img.width, img.height);
            const ctx = canvas.getContext('2d');
            
            // Set white background for JPEG
            if (format === 'jpeg') {
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            
            ctx.drawImage(img, 0, 0);
            
            const mimeType = `image/${format}`;
            const extension = format === 'jpeg' ? 'jpg' : format;
            const newFileName = file.name.replace(/\.[^/.]+$/, `.${extension}`);
            
            return new Promise((resolve) => {
                canvas.toBlob((blob) => {
                    const newFile = new File([blob], newFileName, { type: mimeType });
                    resolve(newFile);
                }, mimeType, quality);
            });
        }
        
        // Image processing functions
        function createCanvas(width, height) {
            const canvas = document.createElement('canvas');
            canvas.width = width;
            canvas.height = height;
            return canvas;
        }
        
        function loadImage(file) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.onload = () => resolve(img);
                img.onerror = reject;
                img.src = URL.createObjectURL(file);
            });
        }
        
        async function compressImage(file) {
            const img = await loadImage(file);
            const quality = document.getElementById('quality-slider').value / 100;
            
            const canvas = createCanvas(img.width, img.height);
            const ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0);
            
            return new Promise((resolve) => {
                canvas.toBlob((blob) => {
                    const newFile = new File([blob], file.name, { type: file.type });
                    updateCompressionStats(file.size, blob.size);
                    resolve(newFile);
                }, file.type, quality);
            });
        }
        
        function updateCompressionStats(originalSize, compressedSize) {
            const originalElement = document.getElementById('original-size');
            const compressedElement = document.getElementById('compressed-size');
            const savedElement = document.getElementById('saved-percentage');
            const statsContainer = document.getElementById('compression-stats');
            
            if (originalElement && compressedElement && savedElement) {
                const savedPercentage = Math.round(((originalSize - compressedSize) / originalSize) * 100);
                
                originalElement.textContent = formatFileSize(originalSize);
                compressedElement.textContent = formatFileSize(compressedSize);
                savedElement.textContent = `${savedPercentage}%`;
                
                statsContainer.classList.remove('hidden');
            }
        }
        
        async function resizeImage(file) {
            const img = await loadImage(file);
            const width = parseInt(document.getElementById('resize-width').value) || img.width;
            const height = parseInt(document.getElementById('resize-height').value) || img.height;
            
            const canvas = createCanvas(width, height);
            const ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0, width, height);
            
            return new Promise((resolve) => {
                canvas.toBlob((blob) => {
                    const newFile = new File([blob], file.name, { type: file.type });
                    resolve(newFile);
                }, file.type, 0.9);
            });
        }
        
        async function convertImageFormat(file) {
            const img = await loadImage(file);
            const format = document.getElementById('output-format').value;
            const quality = document.getElementById('convert-quality').value / 100;
            
            const canvas = createCanvas(img.width, img.height);
            const ctx = canvas.getContext('2d');
            
            // Set white background for JPEG
            if (format === 'jpeg') {
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            
            ctx.drawImage(img, 0, 0);
            
            const mimeType = `image/${format}`;
            const extension = format === 'jpeg' ? 'jpg' : format;
            const newFileName = file.name.replace(/\.[^/.]+$/, `.${extension}`);
            
            return new Promise((resolve) => {
                canvas.toBlob((blob) => {
                    const newFile = new File([blob], newFileName, { type: mimeType });
                    resolve(newFile);
                }, mimeType, quality);
            });
        }
        
        async function createPDFFromImages(files) {
            // Since we're working without external libraries, create a guide file instead
            const guideContent = `PDF Creation Guide - ImagePDF Toolkit

Selected Images: ${files.length} files
Date: ${new Date().toLocaleString()}

HOW TO CREATE PDF FROM YOUR IMAGES:

Method 1: Using Built-in Browser Tools (Recommended)
1. Press Ctrl+P (Print) in your browser
2. Change destination to "Save as PDF"
3. Open each image in new tabs
4. Print each to PDF
5. Use online PDF merger to combine

Method 2: Using Microsoft Word
1. Open Microsoft Word
2. Insert → Pictures → Select all your images
3. Adjust layout as needed
4. File → Save As → PDF

Method 3: Using Google Docs
1. Upload images to Google Drive
2. Open Google Docs
3. Insert → Image → From Drive
4. Arrange images as needed
5. File → Download → PDF

Method 4: Using Online Tools
• PDFtk (free desktop tool)
• SmallPDF (online)
• ILovePDF (online)
• Adobe Acrobat (paid)

Note: This guide was created because ImagePDF Toolkit prioritizes 
privacy and works completely offline without external dependencies.

For best results:
✓ Optimize image sizes before conversion
✓ Use consistent image formats (JPG recommended)
✓ Consider image order before starting
✓ Compress images if file size is important

ImagePDF Toolkit - 100% Privacy-Focused Tools`;

            const blob = new Blob([guideContent], { type: 'text/plain' });
            return new File([blob], 'pdf-creation-guide.txt', { type: 'text/plain' });
        }
        
        async function extractImagesFromPDF(file) {
            // Create a guide file for PDF to images conversion
            const guideContent = `PDF to Images Conversion Guide - ImagePDF Toolkit

PDF File: ${file.name}
File Size: ${(file.size / 1024 / 1024).toFixed(2)} MB
Date: ${new Date().toLocaleString()}

HOW TO EXTRACT IMAGES FROM YOUR PDF:

Method 1: Using Browser (For simple PDFs)
1. Open PDF in your browser
2. Right-click on images and "Save image as..."
3. Repeat for each image you need

Method 2: Using Adobe Acrobat Reader (Free)
1. Open PDF in Adobe Acrobat Reader
2. Go to Tools → Export PDF
3. Select "Image" format
4. Choose PNG, JPEG, or other format
5. Export all pages or selected pages

Method 3: Using Google Drive
1. Upload PDF to Google Drive
2. Right-click → Open with → Google Docs
3. Images will be converted to editable format
4. Right-click each image and download

Method 4: Using Microsoft Word
1. Open PDF in Microsoft Word
2. Images will be imported as objects
3. Right-click each image → Save as Picture

Method 5: Using Online Tools
• SmallPDF (online converter)
• ILovePDF (online converter)
• PDF24 (free online tool)
• Sejda (online PDF editor)

Method 6: Using Free Desktop Software
• PDFtk (command line tool)
• GIMP (open PDF as images)
• Inkscape (import PDF pages)
• PDF-XChange Viewer (free)

Tips for Best Results:
✓ Use high-quality source PDFs
✓ Choose appropriate image format (PNG for quality, JPEG for size)
✓ Check image resolution settings
✓ Consider batch processing for multiple pages

Security Note: ImagePDF Toolkit works completely offline to protect your privacy.
No files are uploaded to any server during this process.

For more tools, visit our homepage for image compression, resizing, and format conversion.`;

            const blob = new Blob([guideContent], { type: 'text/plain' });
            const guideFile = new File([blob], `${file.name.replace('.pdf', '')}-extraction-guide.txt`, { type: 'text/plain' });
            return [guideFile];
        }
        
        // Results and download functions
        function showResults() {
            const results = document.getElementById('results');
            const resultsList = document.getElementById('results-list');
            
            results.classList.remove('hidden');
            resultsList.innerHTML = '';
            
            processedFiles.forEach((file, index) => {
                const resultItem = document.createElement('div');
                resultItem.className = 'flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-3 rounded-lg';
                resultItem.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas ${getFileIcon(file.type)} text-green-600 mr-3"></i>
                        <div>
                            <div class="font-medium">${file.name}</div>
                            <div class="text-sm text-gray-500">${formatFileSize(file.size)}</div>
                        </div>
                    </div>
                    <button onclick="downloadSingleFile(${index})" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                        <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                          <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                        </svg>
                        Download
                    </button>
                `;
                resultsList.appendChild(resultItem);
            });
        }
        
        function downloadSingleFile(index) {
            const file = processedFiles[index];
            const url = URL.createObjectURL(file);
            const a = document.createElement('a');
            a.href = url;
            a.download = file.name;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        async function downloadAllFiles() {
            if (processedFiles.length === 1) {
                downloadSingleFile(0);
                return;
            }
            
            // Download files individually since we're not using JSZip
            showProgress(true);
            
            try {
                for (let i = 0; i < processedFiles.length; i++) {
                    const file = processedFiles[i];
                    const url = URL.createObjectURL(file);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = file.name;
                    a.style.display = 'none';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    // Small delay between downloads to prevent browser blocking
                    if (i < processedFiles.length - 1) {
                        await new Promise(resolve => setTimeout(resolve, 300));
                    }
                }
                
                showToast('✅ All files downloaded successfully!', 'success', 3000);
            } catch (error) {
                console.error('Download error:', error);
                showToast('❌ Error downloading files. Please try again.', 'error', 3000);
            } finally {
                showProgress(false);
            }
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch (e.key.toLowerCase()) {
                    case 'o':
                        e.preventDefault();
                        if (currentTool) {
                            const fileInput = document.getElementById('file-input');
                            if (fileInput) fileInput.click();
                        }
                        break;
                    case 'p':
                        e.preventDefault();
                        if (currentTool) {
                            const processBtn = document.getElementById('process-btn');
                            if (processBtn && !processBtn.disabled) processBtn.click();
                        }
                        break;
                    case 's':
                        e.preventDefault();
                        if (currentTool && processedFiles.length > 0) {
                            downloadAllFiles();
                        }
                        break;
                }
            }
            
            // Arrow keys navigation removed
        });
        
        // PDF functionality has been simplified to work without external dependencies
        // All PDF operations now provide helpful guides instead of direct processing
        
        // PWA Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }

        // Show welcome toast on scroll to 75%
        let welcomeToastShown = false;
        
        function checkScrollForWelcomeToast() {
            if (welcomeToastShown) return;
            
            const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
            
            if (scrollPercent >= 65) {
                showToast('🚀 Welcome to ImagePDF Toolkit! Professional tools at your fingertips.', 'success');
                welcomeToastShown = true;
                // Remove the scroll listener once toast is shown
                window.removeEventListener('scroll', checkScrollForWelcomeToast);
            }
        }
        
        window.addEventListener('load', function() {
            // Add scroll listener for welcome toast
            window.addEventListener('scroll', checkScrollForWelcomeToast, { passive: true });
        });
    </script>
    <script src="script.js?v=2.3.1"></script>
</body>
</html>
